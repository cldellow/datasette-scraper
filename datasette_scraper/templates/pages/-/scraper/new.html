{% extends "base.html" %}

{% block title %}Scraper: Add Scrape{% endblock %}

{% block body_class %}index{% endblock %}

{% block content %}
<h1>Add Scrape</h1>

<script>
// Seems weird that I need to provide this?
process = {
  env: {}
};

initialData = {{ dss_default_config }};

schema = {{ dss_schema }};

uischema = undefined;

onChange = ({ errors, data }) => {
    console.log(errors);
    console.log(data);
}
</script>

<div id='editor'></div>
<form method='post'>
  <script src='/-/static-plugins/datasette_scraper/editor.bundle.js'></script>
  <button type='submit'>Add Scrape</button>
</form>

{% endblock %}
